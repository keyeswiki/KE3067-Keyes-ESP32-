<xml version="Mixly 2.0 rc4" board="Arduino ESP32@ESP32 Dev Module"><block type="base_setup" id="9BPLsHM^:+P/hhGwaL`|" x="-386" y="-430"><statement name="DO"><block type="serial_begin" id="rM.hqj+5d|.~2b_f.|n9"><field name="serial_select">Serial</field><value name="CONTENT"><shadow type="math_number" id="w2b$6jWLE`=0Nnk)$X,Y"><field name="NUM">115200</field></shadow></value><next><block type="variables_declare" id="7XD)Z^hfx)aP8#aLro^D"><field name="variables_type">global_variate</field><field name="VAR">wifiData</field><field name="TYPE">String</field><value name="VALUE"><block type="text" id="k[^Fngh?}_!`al3WvFEU"><field name="TEXT"></field></block></value><next><block type="variables_declare" id="{k7{/fje,lRYjpN4ZBA4"><field name="variables_type">global_variate</field><field name="VAR">ultrasonic_state</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="[8k(tb1#Pi.,db:C!fyS"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="^@[bK$KtG9vR-5q(=ka@"><field name="variables_type">global_variate</field><field name="VAR">temper_state</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="]jk`m+ge,kw?}qfZ^UW."><field name="NUM">0</field></block></value><next><block type="variables_declare" id="L)Qe]Dzwk9Xgq,mMJ~s)"><field name="variables_type">global_variate</field><field name="VAR">humidity_state</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="DngB`^C+z+,`+=4iigtM"><field name="NUM">0</field></block></value><next><block type="ke_relay" id="3r*EE-IP9O]nLc)P7xtK"><value name="PIN"><shadow type="pins_digital" id="$ny1_@RO@Slu1+(]I0oI"><field name="PIN">32</field></shadow></value><value name="STAT"><shadow type="inout_highlow" id="$uXTvEJ6uS;VfpgH}BP;"><field name="BOOL">LOW</field></shadow></value><next><block type="ke_motor2" id="|l+9KL+__@#?O30G/SLW"><field name="STAT1">LOW</field><field name="STAT2">LOW</field><value name="PIN1"><shadow type="pins_digital" id="o8k~L~:D-quJY$]v_6Ep"><field name="PIN">19</field></shadow></value><value name="PIN2"><shadow type="pins_digital" id="Y:_LU+]f=MWDC,kVpex1"><field name="PIN">18</field></shadow></value><next><block type="servo_move" id="f~jf$NH@60zdky{Iu.CD"><field name="PIN">4</field><value name="DEGREE"><shadow type="math_number" id="S3W}FnDGsHGlV1IX|1ev"><field name="NUM">0</field></shadow></value><value name="DELAY_TIME"><shadow type="math_number" id="e(PtdGEq4EZT8k9V+U7Q"><field name="NUM">500</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="wifi_init" id="kTzt`=a/eQSCeceFgeK*" x="-385" y="-42"><value name="SSID"><shadow type="text" id="$l}b/q!P$x[~BF_JW!3,"><field name="TEXT">ChinaNet-2.4G-0DF0</field></shadow></value><value name="PASSWD"><shadow type="text" id="priu20SQ?V*cXBr^-V[x"><field name="TEXT">ChinaNet@233</field></shadow></value><next><block type="variables_set" id="fjWy8[+Ky:0`MQqO,|({"><field name="VAR">wifiData</field><value name="VALUE"><block type="wifi_read" id="X`mR$!E#{N?1_kznG)sq"></block></value><next><block type="serial_print" id="SF62dNy/!L4V/Y(Y;*ES"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="variables_get" id="9b{S(Il-9gSq]I[Y{Jo-"><field name="VAR">wifiData</field></block></value><next><block type="controls_if" id="0vZuyMT{9{zyMe}Fuub#"><value name="IF0"><block type="logic_compare" id="sChsj]qAYX3us6NwZ(S_"><field name="OP">EQ</field><value name="A"><block type="variables_get" id=",yMzWU_rwC$rsrB?v!i/"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="WUj$H,7EVEF,K7iqqS`y"><field name="TEXT">/btn/0</field></block></value></block></value><statement name="DO0"><block type="ke_relay" id="PIK#r!W`.|8Ghf1=,md/"><value name="PIN"><shadow type="pins_digital" id="4sUBKI*iuE5,G_wo]5gp"><field name="PIN">32</field></shadow></value><value name="STAT"><shadow type="inout_highlow" id=",`|@+I2sQbMrX`3iK)n]"><field name="BOOL">HIGH</field></shadow></value></block></statement><next><block type="controls_if" id="2rKD6N8?ajJ6hLkSA,j-"><value name="IF0"><block type="logic_compare" id="OV51:Y8L6YVrNoY9T9SE"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="Bvapg!On=@bof46j]I7l"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="TS,IR|Il8@w^2:.U1q*g"><field name="TEXT">/btn/1</field></block></value></block></value><statement name="DO0"><block type="ke_relay" id="9PzOxPF]y|Mito!H9Nqm"><value name="PIN"><shadow type="pins_digital" id="aS,qy+sIWISLCJYBh|Sd"><field name="PIN">32</field></shadow></value><value name="STAT"><shadow type="inout_highlow" id="53hH+]Jy}=c/aGn3b;PC"><field name="BOOL">LOW</field></shadow></value></block></statement><next><block type="controls_if" id="?Q4(gn1iJ3oW38sNT/@1"><value name="IF0"><block type="logic_compare" id="m7@f9tnO-b(Cm~a6T!]0"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="}Cp+AY!qw|#(z+}Ds?{V"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="QvbSrr2x+Kv;MyB$)VpR"><field name="TEXT">/btn/2</field></block></value></block></value><statement name="DO0"><block type="servo_move" id="_)BJU~aJpuAJXH`/(O4I"><field name="PIN">4</field><value name="DEGREE"><shadow type="math_number" id="OmVQ=AC3/v^L!?QOe26u"><field name="NUM">180</field></shadow></value><value name="DELAY_TIME"><shadow type="math_number" id="V3b-3QPG[_{)dC?I]VD7"><field name="NUM">500</field></shadow></value></block></statement><next><block type="controls_if" id=":qY]-N;Z$q=*TLiD{QBC"><value name="IF0"><block type="logic_compare" id="mBX2CMt!sic+ciEH!+EZ"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="b(ej{/rc?:LTb7@+.W:m"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="AK.N,l4Ityyu(8[vC7rB"><field name="TEXT">/btn/3</field></block></value></block></value><statement name="DO0"><block type="servo_move" id="lJ(^|2@b-61R_jN[v!YE"><field name="PIN">4</field><value name="DEGREE"><shadow type="math_number" id="k4OOoBx@qU[v.!WfrynJ"><field name="NUM">0</field></shadow></value><value name="DELAY_TIME"><shadow type="math_number" id="K2T-I6R[xnsvkaPcw`XH"><field name="NUM">500</field></shadow></value></block></statement><next><block type="controls_if" id="fT_55^FMKYUj``jdP,ZJ"><value name="IF0"><block type="logic_compare" id=",AMDriA7{Dmq~;nv?Qe^"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="/g@@$=.S.6ELO{D-pgdp"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="#^e;]ejW;0e~TZ5P]yP("><field name="TEXT">/btn/4</field></block></value></block></value><statement name="DO0"><block type="ke_motor002" id="K8rHrFT~QtYCevpUPpZV"><field name="STAT1">LOW</field><value name="PIN1"><shadow type="pins_digital" id="7sgdgAzH[6ox3t7RLg|m"><field name="PIN">19</field></shadow></value><value name="PIN2"><shadow type="pins_digital" id="IeiP[lWz4Vynih!Y*PcH"><field name="PIN">18</field></shadow></value><value name="pwmb"><shadow type="math_number" id="PPTh_2e+k2`Q?+h:Gt7d"><field name="NUM">200</field></shadow></value></block></statement><next><block type="controls_if" id="NgaNAfWLekeKgYD7L8#^"><value name="IF0"><block type="logic_compare" id="|d)wi;a!Lyu,qr@;/,7?"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="|TqMiJUc?rCv^^9]M]KG"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="tsL4[OyPd0pN2iXQBhcw"><field name="TEXT">/btn/5</field></block></value></block></value><statement name="DO0"><block type="ke_motor002" id="kQ+6!:^X+$wHSdIS2AF0"><field name="STAT1">LOW</field><value name="PIN1"><shadow type="pins_digital" id="V?Gxrb9M6f1oVIuL.oND"><field name="PIN">19</field></shadow></value><value name="PIN2"><shadow type="pins_digital" id="l}`}^3sq}37VMU8rYueb"><field name="PIN">18</field></shadow></value><value name="pwmb"><shadow type="math_number" id="6OD1ex3pRBtn3cjR)2Tu"><field name="NUM">0</field></shadow></value></block></statement><next><block type="controls_if" id="v`gJF@uPqvpa7{3E,[t_"><value name="IF0"><block type="logic_compare" id=",edFa;cpQI}}!p!sk+en"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="=[`9A`n]){T:?qwL;Pw*"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="PaoK(oA=1*#*W0MgIfXF"><field name="TEXT">/btn/6</field></block></value></block></value><statement name="DO0"><block type="controls_whileUntil" id="}2|g3o-Fz`qd|NW0qQm_"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="0Xsa[B=aCsj(6N+tHZ]2"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="x@[S+3)zpWYtB*!QaT(f"><field name="OP">GT</field><value name="A"><block type="variables_get" id="M:$]c^hBLs3o8]L~*FeH"><field name="VAR">ultrasonic_state</field></block></value><value name="B"><block type="math_number" id="_OMLMfK`@+Q-Dm+i^0z_"><field name="NUM">0</field></block></value></block></value><statement name="DO"><block type="serial_print" id="Xw)|MxF(l#xS~|b.gSj1"><field name="serial_select">Serial</field><field name="new_line">print</field><value name="CONTENT"><block type="text" id="K#m#13ikP);TLyfR?p+Q"><field name="TEXT">Distance=</field></block></value><next><block type="serial_print" id="TX5xdw*UC`1{,MIWya33"><field name="serial_select">Serial</field><field name="new_line">print</field><value name="CONTENT"><block type="ke_sr04" id="Y/9T0W3c3l(aBm+*niMF"><value name="PIN1"><shadow type="pins_digital" id="WnzHf:uU?-HKYWR^i+ca"><field name="PIN">14</field></shadow></value><value name="PIN2"><shadow type="pins_digital" id="^K5ej9[UWocL]KAhd)D]"><field name="PIN">27</field></shadow></value></block></value><next><block type="variables_set" id="GEgw.Yi9tZ$ap=WE1aYI"><field name="VAR">ultrasonic_state</field><value name="VALUE"><block type="math_number" id="r7YLIL}p];.qJru]?(,["><field name="NUM">0</field></block></value></block></next></block></next></block></statement></block></statement><next><block type="controls_if" id="xH{)WcfWFc!THjte1Mui"><value name="IF0"><block type="logic_compare" id="*fuw6no$oS)7+TuhWtd7"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="?ARc-)SqxdQP~Mk,fh4("><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="*k}!|FsZ4(Os@SssJ@+!"><field name="TEXT">/btn/7</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="o|1l6f?EFw]sQ~{8cGzm"><field name="VAR">ultrasonic_state</field><value name="VALUE"><block type="math_number" id="s*K-~1e0DNU65r|B!?Y:"><field name="NUM">1</field></block></value></block></statement><next><block type="controls_if" id="^uUJ6X}ga@39V(/Tjj[)"><value name="IF0"><block type="logic_compare" id="U#ymxikXjB/O{YnWT$jg"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="r_K@3N2`[qKDTaShfteg"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="U0!9yp`wo{z;r:a7d`!1"><field name="TEXT">/btn/8</field></block></value></block></value><statement name="DO0"><block type="controls_whileUntil" id="tb$2Q3`Oi.t=DOCePDc:"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="0Xsa[B=aCsj(6N+tHZ]2"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="-La]aRfw:m)wz,gJoE3Y"><field name="OP">GT</field><value name="A"><block type="variables_get" id="=hI`,y)XHUL|QY,8{,by"><field name="VAR">temper_state</field></block></value><value name="B"><block type="math_number" id="^ZAv^wnbl1z1Qw[)-(sU"><field name="NUM">0</field></block></value></block></value><statement name="DO"><block type="serial_print" id="8MIm|tZ=?XZxV};lYT:p"><field name="serial_select">Serial</field><field name="new_line">print</field><value name="CONTENT"><block type="text" id="k+dBcW|-^va;^9tDZwa+"><field name="TEXT">Temperature=</field></block></value><next><block type="serial_print" id=")~}(@^N3pbwQnm!Vw1dc"><field name="serial_select">Serial</field><field name="new_line">print</field><value name="CONTENT"><block type="ke_DHT" id="CoONO~!1qGj0#c7Cx8*t"><field name="TYPE">11</field><field name="PIN">15</field><field name="WHAT">temperature</field></block></value><next><block type="variables_set" id="iqd?N4!;.xF9aDoAXl:5"><field name="VAR">temper_state</field><value name="VALUE"><block type="math_number" id="#=Ag#_T!8rwFdsc;hH+M"><field name="NUM">0</field></block></value></block></next></block></next></block></statement></block></statement><next><block type="controls_if" id="_yl;fi|m7owakhf;XdZ6"><value name="IF0"><block type="logic_compare" id="BfOO9g1YAByABk4n-iP2"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="}{Btq_rKsq_saoAc|G+^"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="LOXVu/t.[30/)J|l[=eh"><field name="TEXT">/btn/9</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="K4`O=+lft6VKMbxHIXXY"><field name="VAR">temper_state</field><value name="VALUE"><block type="math_number" id="S96Qq6;@wT2q?mDAx)3U"><field name="NUM">1</field></block></value></block></statement><next><block type="controls_if" id="h7Wz`)^JIZhRX`|N-jYI"><value name="IF0"><block type="logic_compare" id="}u[w/AaDi?{0[up/9/rq"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="9=WS!CbVOL1o^gk+e$[{"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="B[L5sCkKOS*aQ*k^k![_"><field name="TEXT">/btn/10</field></block></value></block></value><statement name="DO0"><block type="controls_whileUntil" id="9Oq1J5#vP]{9Vl?3|A*{"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="0Xsa[B=aCsj(6N+tHZ]2"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="?KH}`QMA^dDhR#sTNR0,"><field name="OP">GT</field><value name="A"><block type="variables_get" id="#{$Zyjifn:WysQz$##=2"><field name="VAR">humidity_state</field></block></value><value name="B"><block type="math_number" id="e7hKoi@:9,0:0d*0=tCM"><field name="NUM">0</field></block></value></block></value><statement name="DO"><block type="serial_print" id="0,iH*JnBd|)qbQm=6L1p"><field name="serial_select">Serial</field><field name="new_line">print</field><value name="CONTENT"><block type="text" id="NA@$uA(=EH9/0t6y5of="><field name="TEXT">Humidity=</field></block></value><next><block type="serial_print" id="zmwmi/@}Cg{At}vl0eLl"><field name="serial_select">Serial</field><field name="new_line">print</field><value name="CONTENT"><block type="ke_DHT" id="buGD3ygEQr]DN|*RY,fG"><field name="TYPE">11</field><field name="PIN">15</field><field name="WHAT">humidity</field></block></value><next><block type="variables_set" id="/aGBK,Ox)0eaM=W{V]QY"><field name="VAR">humidity_state</field><value name="VALUE"><block type="math_number" id="fA~k+[dB-510AQ?K2A$c"><field name="NUM">0</field></block></value></block></next></block></next></block></statement></block></statement><next><block type="controls_if" id="^|4^G`zitw!3qJ)cflad"><value name="IF0"><block type="logic_compare" id="],}4z$8Pg)Qh6k8=RA]Z"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="`bC0|bLd;6,xaaZ?k+i}"><field name="VAR">wifiData</field></block></value><value name="B"><block type="text" id="3jQQQNh61Q{9gAm40MNJ"><field name="TEXT">/btn/11</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="v=a+y@0^,XLVzDEf0PZ/"><field name="VAR">humidity_state</field><value name="VALUE"><block type="math_number" id="X{U4sg6|kA]I:yWSp!o-"><field name="NUM">1</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml><config>{"PSRAM":{"key":"disabled","label":"Disabled"},"PartitionScheme":{"key":"default","label":"Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)"},"CPUFreq":{"key":"240","label":"240MHz (WiFi/BT)"},"FlashMode":{"key":"qio","label":"QIO"},"FlashFreq":{"key":"80","label":"80MHz"},"FlashSize":{"key":"4M","label":"4MB (32Mb)"},"UploadSpeed":{"key":"921600","label":"921600"},"LoopCore":{"key":"1","label":"Core 1"},"EventsCore":{"key":"1","label":"Core 1"}}</config><code>CiNpbmNsdWRlIDxFU1AzMl9TZXJ2by5oPgojaW5jbHVkZSA8REhULmg+CgpTdHJpbmcgd2lmaURhdGE7CnZvbGF0aWxlIGludCB1bHRyYXNvbmljX3N0YXRlOwp2b2xhdGlsZSBpbnQgdGVtcGVyX3N0YXRlOwp2b2xhdGlsZSBpbnQgaHVtaWRpdHlfc3RhdGU7ClNlcnZvIHNlcnZvXzQ7CkRIVCBkaHQxNSgxNSwgMTEpOwoKI2luY2x1ZGUgPFdpRmkuaD4KI2luY2x1ZGUgPEVTUG1ETlMuaD4KI2luY2x1ZGUgPFdpRmlDbGllbnQuaD4KCmNvbnN0IGNoYXIqIHNzaWQgPSAiQ2hpbmFOZXQtMi40Ry0wREYwIjsKY29uc3QgY2hhciogcGFzc3dvcmQgPSAiQ2hpbmFOZXRAMjMzIjsKV2lGaVNlcnZlciBzZXJ2ZXIoODApOwoKZmxvYXQgY2hlY2tkaXN0YW5jZV8xNF8yNygpIHsKICBkaWdpdGFsV3JpdGUoMTQsIExPVyk7CiAgZGVsYXlNaWNyb3NlY29uZHMoMik7CiAgZGlnaXRhbFdyaXRlKDE0LCBISUdIKTsKICBkZWxheU1pY3Jvc2Vjb25kcygxMCk7CiAgZGlnaXRhbFdyaXRlKDE0LCBMT1cpOwogIGZsb2F0IGRpc3RhbmNlID0gcHVsc2VJbigyNywgSElHSCkgLyA1OC4wMDsKICBkZWxheSgxMCk7CiAgcmV0dXJuIGRpc3RhbmNlOwp9Cgp2b2lkIHNldHVwKCl7CiAgU2VyaWFsLmJlZ2luKDExNTIwMCk7CiAgd2lmaURhdGEgPSAiIjsKICB1bHRyYXNvbmljX3N0YXRlID0gMDsKICB0ZW1wZXJfc3RhdGUgPSAwOwogIGh1bWlkaXR5X3N0YXRlID0gMDsKICBwaW5Nb2RlKDMyLCBPVVRQVVQpOwogIHBpbk1vZGUoMTksIE9VVFBVVCk7CiAgcGluTW9kZSgxOCwgT1VUUFVUKTsKICBzZXJ2b180LmF0dGFjaCg0LDUwMCwyNTAwKTsKICBkaWdpdGFsV3JpdGUoMzIsTE9XKTsKICBkaWdpdGFsV3JpdGUoMTksTE9XKTsKICBkaWdpdGFsV3JpdGUoMTgsTE9XKTsKICBzZXJ2b180LndyaXRlKDApOwogIGRlbGF5KDUwMCk7CiAgU2VyaWFsLmJlZ2luKDExNTIwMCk7CiAgIFdpRmkuYmVnaW4oc3NpZCwgcGFzc3dvcmQpOwogICB3aGlsZSAoV2lGaS5zdGF0dXMoKSAhPSBXTF9DT05ORUNURUQpIHsKICAgZGVsYXkoNTAwKTsKICAgU2VyaWFsLnByaW50KCIuIik7CiAgICB9CiAgICBTZXJpYWwucHJpbnRsbigiIik7CiAgICBTZXJpYWwucHJpbnQoIkNvbm5lY3RlZCB0byAiKTsKICAgIFNlcmlhbC5wcmludGxuKHNzaWQpOwogICAgU2VyaWFsLnByaW50KCJJUCBhZGRyZXNzOiAiKTsKICAgIFNlcmlhbC5wcmludGxuKFdpRmkubG9jYWxJUCgpKTsKICAgIHNlcnZlci5iZWdpbigpOwogICAgU2VyaWFsLnByaW50bG4oIlRDUCBzZXJ2ZXIgc3RhcnRlZCIpOwogICAgTUROUy5hZGRTZXJ2aWNlKCJodHRwIiwgInRjcCIsIDgwKTsKCiAgcGluTW9kZSgxNCwgT1VUUFVUKTsKICBwaW5Nb2RlKDI3LCBJTlBVVCk7CiAgIGRodDE1LmJlZ2luKCk7Cn0KCnZvaWQgbG9vcCgpewogIFdpRmlDbGllbnQgY2xpZW50ID0gc2VydmVyLmF2YWlsYWJsZSgpOwogICAgICBpZiAoIWNsaWVudCkgewogICAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHdoaWxlKGNsaWVudC5jb25uZWN0ZWQoKSAmJiAhY2xpZW50LmF2YWlsYWJsZSgpKXsKICAgICAgICAgIGRlbGF5KDEpOwogICAgICB9CiAgICAgIFN0cmluZyByZXEgPSBjbGllbnQucmVhZFN0cmluZ1VudGlsKCdccicpOwogICAgICBpbnQgYWRkcl9zdGFydCA9IHJlcS5pbmRleE9mKCcgJyk7CiAgICAgIGludCBhZGRyX2VuZCA9IHJlcS5pbmRleE9mKCcgJywgYWRkcl9zdGFydCArIDEpOwogICAgICBpZiAoYWRkcl9zdGFydCA9PSAtMSB8fCBhZGRyX2VuZCA9PSAtMSkgewogICAgICAgICAgU2VyaWFsLnByaW50KCJJbnZhbGlkIHJlcXVlc3Q6ICIpOwogICAgICAgICAgU2VyaWFsLnByaW50bG4ocmVxKTsKICAgICAgICAgIHJldHVybjsKICAgICAgfQogIHJlcSA9IHJlcS5zdWJzdHJpbmcoYWRkcl9zdGFydCArIDEsIGFkZHJfZW5kKTsKICB3aWZpRGF0YSA9IHJlcTsKICBTZXJpYWwucHJpbnRsbih3aWZpRGF0YSk7CiAgaWYgKHdpZmlEYXRhID09ICIvYnRuLzAiKSB7CiAgICBkaWdpdGFsV3JpdGUoMzIsSElHSCk7CgogIH0KICBpZiAod2lmaURhdGEgPT0gIi9idG4vMSIpIHsKICAgIGRpZ2l0YWxXcml0ZSgzMixMT1cpOwoKICB9CiAgaWYgKHdpZmlEYXRhID09ICIvYnRuLzIiKSB7CiAgICBzZXJ2b180LndyaXRlKDE4MCk7CiAgICBkZWxheSg1MDApOwoKICB9CiAgaWYgKHdpZmlEYXRhID09ICIvYnRuLzMiKSB7CiAgICBzZXJ2b180LndyaXRlKDApOwogICAgZGVsYXkoNTAwKTsKCiAgfQogIGlmICh3aWZpRGF0YSA9PSAiL2J0bi80IikgewogICAgZGlnaXRhbFdyaXRlKDE5LExPVyk7CiAgICBhbmFsb2dXcml0ZSgxOCwyMDApOwoKICB9CiAgaWYgKHdpZmlEYXRhID09ICIvYnRuLzUiKSB7CiAgICBkaWdpdGFsV3JpdGUoMTksTE9XKTsKICAgIGFuYWxvZ1dyaXRlKDE4LDApOwoKICB9CiAgaWYgKHdpZmlEYXRhID09ICIvYnRuLzYiKSB7CiAgICB3aGlsZSAodWx0cmFzb25pY19zdGF0ZSA+IDApIHsKICAgICAgU2VyaWFsLnByaW50KCJEaXN0YW5jZT0iKTsKICAgICAgU2VyaWFsLnByaW50KGNoZWNrZGlzdGFuY2VfMTRfMjcoKSk7CiAgICAgIHVsdHJhc29uaWNfc3RhdGUgPSAwOwogICAgfQoKICB9CiAgaWYgKHdpZmlEYXRhID09ICIvYnRuLzciKSB7CiAgICB1bHRyYXNvbmljX3N0YXRlID0gMTsKCiAgfQogIGlmICh3aWZpRGF0YSA9PSAiL2J0bi84IikgewogICAgd2hpbGUgKHRlbXBlcl9zdGF0ZSA+IDApIHsKICAgICAgU2VyaWFsLnByaW50KCJUZW1wZXJhdHVyZT0iKTsKICAgICAgU2VyaWFsLnByaW50KGRodDE1LnJlYWRUZW1wZXJhdHVyZSgpKTsKICAgICAgdGVtcGVyX3N0YXRlID0gMDsKICAgIH0KCiAgfQogIGlmICh3aWZpRGF0YSA9PSAiL2J0bi85IikgewogICAgdGVtcGVyX3N0YXRlID0gMTsKCiAgfQogIGlmICh3aWZpRGF0YSA9PSAiL2J0bi8xMCIpIHsKICAgIHdoaWxlIChodW1pZGl0eV9zdGF0ZSA+IDApIHsKICAgICAgU2VyaWFsLnByaW50KCJIdW1pZGl0eT0iKTsKICAgICAgU2VyaWFsLnByaW50KGRodDE1LnJlYWRIdW1pZGl0eSgpKTsKICAgICAgaHVtaWRpdHlfc3RhdGUgPSAwOwogICAgfQoKICB9CiAgaWYgKHdpZmlEYXRhID09ICIvYnRuLzExIikgewogICAgaHVtaWRpdHlfc3RhdGUgPSAxOwoKICB9Cgp9</code>